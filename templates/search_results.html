{% extends "explore.html" %}

{% block headstuff %}
<title>Search Results</title>
{% endblock %}

{% block content %}
    <!-- {# If length of search results is 0, displays that no person/movie 
        was in the database. Else, displays the search results matching 
        the query in a list with the appropriate hyperlinks #}
    {% if length == 0 %}
    <h1>Not Found</h1>
    <p>Sorry, no {{kind}} results were found</p>

    {% else %} -->
        {% if kind == "username"%}
        <h3 class="description"> Users matching "{{query}}"
            {% if mood %}
            <span class="mood tag">, mood:"{{mood}}",</span>
            {% endif %}
            {% if genre %}
            <span class="genre tag">, genre:"{{genre}}",</span>
            {% endif %}
            {% if audience %}
            <span class="audience tag">, audience:"{{audience}}"</span>
            {% endif %}:
        </h3>
        <div class="user-container">
            {% for user in search_results %}
            <a href="{{ url_for('user', username=user.username) }}">
                <div class="user-box">
                    <p>{{user.name}} ({{user.username}})</p>
                </div>
            </a>
            {% endfor %}
        </div>

        {% else %}
        <h3 class="description">Media matching "{{query}}", mood: {{mood}}, genre: {{genre}}, audience: {{audience}}</h3>
        <div class="media-container">
            {% for media in search_results %}
            <a href="{{ url_for('media_info', mediaID=media.mediaID)}}">
                <div class="media-box">
                    <p>
                        <span class="media-title">{{media.title}} </span>
                        <span class="year tag">{{media.releaseYear}}</span> 
                        {% if media.type == 'tv' %}
                            <span class="tv tag">{{media.type}}</span>
                        {% elif media.type == 'movie' %}
                            <span class="movie tag">{{media.type}}</span>
                        {% elif media.type == 'music' %}
                            <span class="music tag">{{media.type}}</span>
                        {% elif media.type == 'game' %}
                            <span class="game tag">{{media.type}}</span>
                        {% elif media.type == 'book' %}
                            <span class="book tag">{{media.type}}</span>
                        {% endif %}
                        <span class="creator tag">{{media.name}}</span>
                    </p>
                </div>
            </a>
            {% endfor %}
        </div>
        {% endif %}
    {% endif %}
{% endblock %}